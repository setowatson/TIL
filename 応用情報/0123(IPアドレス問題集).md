
# IPアドレス基礎知識

### IPアドレス
- デバイスを識別する番号。「ネットワーク部＋ホスト部」で構成。
- 種類
  - グローバルIPアドレス：インターネットで使用するIPアドレス
  - プライベートアドレス：企業などのLAN内で使用するIPアドレス
- クラス
  - クラスA
    - 0.0.0.0〜127.255.255.255 
  - クラスB
    - 128.0.0.0~191.255.255.255
  - クラスC　
    - 192.0.0.0~223.255.255.255
    - ホストアドレス部が8ビット→割り当て可能＝2^8-2=254
<img width="414" alt="image" src="https://github.com/user-attachments/assets/cdf1ee31-6cae-4faf-9ca3-83d939dcc81e" />


  - **すべて0はネットワークアドレス、すべて1はブロードキャストアドレスのため「-2する」**

- ネットワークアドレス: ネットワークを識別する番号。
- ブロードキャストアドレス: 全デバイス向けの送信先番号。ホストアドレス部が全て１

### サブネットマスク
- ネットワーク範囲を決める値。
- IPアドレスの分割
  - IPアドレスを「ネットワーク部」と「ホスト部」に分ける役割。
  - 例: 255.255.255.0では、先頭24ビットがネットワーク部。
- CIDR表記
  - サブネットマスクをビット数で表す形式（例: /24はネットワーク部が24ビット）。サブネットマスクは連続する1と0で構成
    例: 255.255.255.0はビットで表すと11111111.11111111.11111111.00000000
  - 192.168.1.3/255.255.255.0→192.168.1.3/24　（24ビットのネットワークアドレス部）  

# 練習問題

### 問１.IPv4アドレス 172.22.29.44/20 のホストが存在するネットワークのブロードキャストアドレスはどれか。
ア　172.22.29.255
イ　172.22.30.255
ウ　172.22.31.255
エ　172.22.32.255


<details><summary>解答</summary>

```
A. ウ
ブロードキャストなので1が立っているものを選ぶ。
31=00001111

もうちょいちゃんと解くと…。
1.まずはIPアドレスを2進数で書く
172 . 22 . 29 . 44→
10101100 00010110 00011101 00101100

「/20」というのは、上から20ビットまでがネットワークアドレスということ。
ブロードキャストアドレスはホスト部が全て１なので下の12ビットを見る。

残りの12ビットがすべて1になっているものがブロードキャストアドレスです。

10101100 00010110 00011111 1111111
→172 .22 .31 .255
```

</details>

---

### 問2.ネットワークアドレス192.168.10.192/28のサブネットにおけるブロードキャストアドレスはどれか。

ア　192.168.10.199
イ　192.168.10.207
ウ　192.168.10.233
エ　192.168.10.255


<details><summary>解答</summary>

```
A. イ
199=11000111
207=11001111
233=11101001
235=11101011
サブネットが28ビットなので、残り4ビットのホスト部をすべて1にしたい。
よって207
```

</details>

---

### 問３.次のIPアドレスとサブネットマスクをもつPCがある。このPCのネットワークアドレスとして，適切なものはどれか。

　IPアドレス： 10.170.70.19
　サブネットマスク：255.255.255.240

ア 10.170.70.0
イ 10.170.70.16
ウ 10.170.70.31
エ 10.170.70.255

<details><summary>解答</summary>

```
A. イ

IPアドレス下8ビット 19=00010011
サブネットマスク下8ビット 240=11110000

サブネットマスクのホスト部をIPアドレスにマスクする。
10.170.70. 00010000→16

```

</details>

---

### 問4.二つのIPv4ネットワーク 192.168.0.0/23 と 192.168.2.0/23 を集約したネットワークはどれか。

ア 192.168.0.0/22
イ 192.168.1.0/22
ウ 192.168.1.0/23
エ 192.168.3.0/23


<details><summary>解答</summary>

```
A. ア
集約…複数のネットワークを共通するビットでサブネットマスクしたもの。

192 .168 .0 .0
→11000000 10101000 00000000 00000000

192 .168 .2 .0
→11000000 10101000 00000010 00000000

/23
→ホスト部が9ビット＝下9ビットが0
1111111 11111111 11111110 00000000

①192.168.0.0 のホスト部をすべて1にすると、
11000000 10101000 00000001 11111111
=192.168.1.255 
これがブロードキャストアドレス

→ホスト範囲は、「ネットワークアドレス+1〜ブロードキャストアドレス-1」
したがって、192.168.0.0/23 のホスト範囲は
192.168.0.1 〜192.168.1.254

②192.168.2.0 のホスト部をすべて1にすると、
11000000 10101000 00000011 11111111
=192.168.3.255 
これがブロードキャストアドレス

→ホスト範囲は、「ネットワークアドレス+1〜ブロードキャストアドレス-1」
したがって、192.168.2.0/23 のホスト範囲は
192.168.2.1 〜192.168.3.254

①②より192.168.0.0 ~ 192.168.3.255 が必要。
→192.168. 00000000 00000000 ~ 192.168.000000011 111111111

これは 192.168.0.0/22 がカバーする範囲
192.168.0.0/22 = 11111111.11111111.11111100.00000000

```

</details>

---

### 問5.クラスCのIPアドレスを分割して、10個の同じ大きさのサブネットを使用したい。ホスト数が最も多くなるように分割した場合のサブネットマスクはどれか。

ア.255.255.255.240
イ.255.255.255.248
ウ.255.255.255.192
エ.255.255.255.224

<details><summary>解答</summary>

```
A. ア

255.255.11111100 00000000

240 = 11110000
  →　NW部が4ビット → 最大サブネット数は2^4=16
  → ホスト部が4ビット　→ 最大ホスト数は2^4-2=14

248 = 11111000
  →　NW部が5ビット　→ 最大サブネット数は2^3=8
　→ ホスト部が3ビット　→ 最大ホスト数は2^3-2=6

192 = 11000000
  →　NW部が2ビット　→ 最大サブネット数は2^2=4　＊サブネット数が10未満なので×
  → ホスト部が6ビット　→ 最大ホスト数は2^6-2=62

224 = 11100000
  →　NW部が3ビット　→ 最大サブネット数は2^3=8

```

---

### 問6.　サブネットマスクが255.255.252.0 のとき、IPアドレス 172.30.123.45のホストが属するサブネットワークのアドレスはどれか。

ア.172.30.3.0
イ.172.30.120.0
ウ.172.30.123.0
エ.172.30.252.0

<details><summary>解答</summary>

```
A. イ

123.45 = 01111011.00101101
252.0  = 11111100.00000000 

↓論理積(AND)を取る 1*1=1のみ

01111000.00000000 = 120.0

```

---

### 問7.　あるホストが属するサブネットのブロードキャストアドレスをそのホストのIPアドレスとサブネットマスクから計算する方法として適切なものはどれか。

ア.IPアドレスの各ビットを反転したものとサブネットマスクとの論理積を取る。
イ.IPアドレスの各ビットを反転したものとサブネットマスクとの論理和を取る。
ウ.サブネットマスクの各ビットを反転したものとサブネットマスクとの論理積を取る。
エ.サブネットマスクの各ビットを反転したものとサブネットマスクとの論理和を取る。

<details><summary>解答</summary>

```
A. エ

ブロードキャストアドレスはホスト部がすべて1
→ サブネットマスクを反転するとホストアドレス部がすべて1になる
→ 対象のIPアドレスと論理和(OR)をすることで、IPアドレスのNW部はそのままホストアドレス部は1になる。

**いっぱい1にしたいから論理和(OR)！**

<img width="492" alt="image" src="https://github.com/user-attachments/assets/4b51933e-aa53-4a37-acd8-35bc3849c112" />

「ウ.サブネットマスクの各ビットを反転したものとサブネットマスクとの論理積を取る。」
を行うと
IPアドレスのホストアドレス部を得ることができる。

**論理積(AND)を行うと0部分はすべて0になるからホスト部が取れる！**

```


